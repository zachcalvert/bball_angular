{% load static %}
<!DOCTYPE html>
<html>

  <head>
    <meta charset="UTF-8">
    {% block title %}
      <title>Example</title>
    {% endblock %}

    {% block head_css %}
      <link rel="stylesheet" href="{% static 'css/base.css' %}" />
      <link rel="stylesheet" href="{% static 'css/responsive.css' %}" />
      <link rel="stylesheet" href="{% static 'css/schedule.css' %}" />
      <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}" />
    {% endblock %}

    {% block head_js %}
      <script src="{% static 'js/jquery-1.11.2.min.js' %}" type="application/javascript"></script>
      <script src="{% static 'js/jquery.diyslider.min.js' %}" type="application/javascript"></script>
    {% endblock %}
  </head>

  <body>
    {% block header %}
      <div id="header">
        <a href="{% url 'site_home' %}"><img class="header-image" src="http://i.imgur.com/uXeJAgC.png" /></a>
        <h2><i>"{{ quote.content }}"</i> -- {{ quote.person }}{% if quote.year %}, {{ quote.year }}{% endif %}</h2>
        <ul class="header-links">
          <li class="header-link"><a href="javascript:;">My Team</a></li>
          <li class="header-link"><a href="javascript:;">Matchup</a></li>
          <li class="header-link"><a href="javascript:;">Free Agents</a></li>
          <li class="header-link"><a href="javascript:;">Standings</a></li>
          <li class="header-link"><a href="javascript:;">Schedule</a></li>
        </ul>

        <ul id="mobile-nav-icons">
          <li id="mobile-nav-search" class="mobile-nav-icon"><a href="javascript:;"><i class="fa fa-search"></i></a></li>  
          <li id="mobile-nav-menu" class="mobile-nav-icon"><a href="javascript:;"><i class="fa fa-bars"></i></a></li>
        </ul>

        <div class="manage-account">
          <strong><a href="javascript:;">Options</a></strong>
          <ul class="manage-account-links">
            <li class="manage-account-link">Header Link 1</li>
            <li class="manage-account-link">Link 2</li>
            <li class="manage-account-link"><a href="javascript:;">Sign out</a></li>
          </ul>
        </div>
      </div>
    {% endblock %}

    {% block content %}
      <div id="content">

        {% block leftnav %}
          <div class="left-nav">
            <p><i class="fa fa-chevron-left"></i></p>
            <ul class="left-nav-links">
              {% for league in leagues %}
                <li class="left-nav-link"><a href="{% url 'league' league.id %}">{{ league.name }}</a></li>
              {% endfor %}
            </ul>
          </div>
        {% endblock %}

        {% block block1 %}
          <div id="block-1" class="block">
            <div class="statline-slider">
              <strong>Top Performers from {{ yesterday }}</strong>
              <button id="go-left">&laquo;</button> <button id="go-right">&raquo;</button>
              <div class="slider">
                <div><!-- A mandatory div used by the slider -->
                  {% for statline in yesterdays_best %}
                    {% include 'statline.html' %}
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        {% endblock %}

        {% block block2 %}
          <div id="block-2" class="block">
            <div class="statline-slider">
              <strong>Season Best</strong>
              <button id="go-left-2">&laquo;</button> <button id="go-right-2">&raquo;</button>
              <div class="slider-2">
                <div><!-- A mandatory div used by the slider -->
                  {% for statline in season_best %}
                    {% include 'statline.html' %}
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        {% endblock %}

      </div>
    {% endblock %}

    {% block footer %}
      <div id="footer">
        <a href="https://github.com/zachcalvert/fantasy_bball">View on Github</a>
      </div>
    {% endblock %}

    {% block footer_js %}
      <script>
        $(document).ready(function () {
          sessionStorage.setItem('left-nav-visible', true);
        });
        $(".slider").diyslider({
            width: "625px",
            height: "230px",
            display: 3,
            animationDuration: 200,
            animationEasing: 'swing'
        });

        // use buttons to change slide
        $("#go-left").bind("click", function(){
            // Go to the previous slide
            $(".slider").diyslider("move", "back");
        });
        $("#go-right").bind("click", function(){
            // Go to the previous slide
            $(".slider").diyslider("move", "forth");
        });
        $(".slider-2").diyslider({
            width: "625px",
            height: "230px",
            display: 3,
            animationDuration: 200,
            animationEasing: 'swing'
        });

        // use buttons to change slide
        $("#go-left-2").bind("click", function(){
            // Go to the previous slide
            $(".slider-2").diyslider("move", "back");
        });
        $("#go-right-2").bind("click", function(){
            // Go to the previous slide
            $(".slider-2").diyslider("move", "forth");
        });
      </script>


      <script>
        $('.manage-account strong').click(function () {
          if ($(".manage-account-links").is(":visible")) {{
              $(".manage-account-links").slideUp(200);
          }} else {{
              $(".manage-account-links").slideDown(200);
          }}
        });    

        $(document).mouseup(function (e) {
          var container = $(".manage-account-links");
          if (!container.is(e.target) // if the target of the click isn't the container...
              && container.has(e.target).length === 0) // ... nor a descendant of the container
                {
                    container.slideUp(200);
                }
        });
      </script>

      <script>
        $('.left-nav p').click(function () {
            if (sessionStorage.getItem('left-nav-visible') == "true") {
              sessionStorage.setItem('left-nav-visible', "false");
              $('.left-nav p').html('<i class=\"fa fa-chevron-right\"></i>');
              $('.left-nav-links').hide();
              $('.left-nav').css("width","30px");
            } else {
              sessionStorage.setItem('left-nav-visible', "true");
              $('.left-nav p').html('<i class=\"fa fa-chevron-left\"></i>');
              $('.left-nav-links').show();
              $('.left-nav').css("width","140px");
            }
        });
      </script>    
    {% endblock %}
  </body>
</html>